'use client';
import { useState, useEffect } from 'react';
import styles from './page.module.css';

export default function MedicalFormulations() {
    // ูุชุบูุฑุงุช ุงูุชุทุจูู
    const [cartItems, setCartItems] = useState({});
    const [orderedProducts, setOrderedProducts] = useState({});
    const [currentCategory, setCurrentCategory] = useState('');
    const [showConfirmation, setShowConfirmation] = useState(false);
    const [confirmationMessage, setConfirmationMessage] = useState('');
    const [showCart, setShowCart] = useState(false);
    const [productQuantities, setProductQuantities] = useState({});

    const recipesData = {
        'hair-care': {
            title: 'ุชุฑููุจุงุช ุทุจูุฉ ููุนูุงูุฉ ุจุงูุดุนุฑ',
            formulations: [
                {
                    id: 'hair-1',
                    name: 'ููุดู ุชูููุฉ ุงูุดุนุฑ',
                    price: '150 ุฌ.ู',
                    description: 'ุชุฑููุจุฉ ุทุจูุฉ ูุนุงูุฉ ูุชูููู ุชุณุงูุท ุงูุดุนุฑ ูุชุนุฒูุฒ ูููู ูู ุฎูุงู ุชุญููุฒ ุงูุฏูุฑุฉ ุงูุฏูููุฉ ูู ูุฑูุฉ ุงูุฑุฃุณ.',
                    ingredients: ['ูุงูููู 3%', 'ุจุงูุชูููู 5%', 'ูุณุชุฎูุต ุฅูููู ุงูุฌุจู', 'ููุงุณููุงููุฏ'],
                    usage: 'ููุทุจู ุนูู ูุฑูุฉ ุงูุฑุฃุณ ููููุงู ูุน ุชุฏููู ุฎููู ููุฏุฉ ุฏูููุชูู. ูููุถู ุงุณุชุฎุฏุงูู ูุณุงุกู.'
                },
                {
                    id: 'hair-2',
                    name: 'ุดุงูุจู ูุฑุทุจ ููุดุนุฑ ุงูุฌุงู',
                    price: '120 ุฌ.ู',
                    description: 'ุดุงูุจู ุทุจู ุบูู ุจุงูุฒููุช ุงูุทุจูุนูุฉ ูุชุฑุทูุจ ุงูุดุนุฑ ุงูุฌุงู ูุฅุนุงุฏุฉ ุงูุญูููุฉ ูุงูููุนุงู ููุดุนุฑ ุงูุชุงูู.',
                    ingredients: ['ุฒูุช ุงูุฃุฑุบุงู', 'ููุชุงููู E', 'ุจุฑูุชููุงุช ุงูุญุฑูุฑ', 'ุญูุถ ุงูููุงููุฑูููู'],
                    usage: 'ููุณุชุฎุฏู ูุฑุชูู ูู ุงูุฃุณุจูุน. ููุชุฑู ุนูู ุงูุดุนุฑ ููุฏุฉ 3 ุฏูุงุฆู ูุจู ุงูุดุทู.'
                },
                {
                    id: 'hair-3',
                    name: 'ุจูุณู ุงูุดุนุฑ ุงููููู',
                    price: '130 ุฌ.ู',
                    description: 'ุจูุณู ุทุจู ูููู ุจุตููุงุช ุงูุดุนุฑ ููููุญู ูุธูุฑูุง ุตุญููุง ููุงูุนูุง ูุน ุญูุงูุฉ ูู ุงูุชูุตู.',
                    ingredients: ['ุฒูุช ุฌูุฒ ุงูููุฏ', 'ุจุฑูุชูู ุงูููุญ', 'ุฒุจุฏุฉ ุงูุดูุง', 'ููุฑุงุชูู'],
                    usage: 'ููุชุฑู ุนูู ุงูุดุนุฑ ุจุนุฏ ุงูุดุงูุจู ููุฏุฉ 5 ุฏูุงุฆู ุซู ููุดุทู ุฌูุฏุงู ุจุงููุงุก ุงููุงุชุฑ.'
                },
                {
                    id: 'hair-4',
                    name: 'ุณูุฑูู ุญูุงูุฉ ุงูุดุนุฑ ูู ุงูุญุฑุงุฑุฉ',
                    price: '180 ุฌ.ู',
                    description: 'ุณูุฑูู ููุงุฆู ุทุจู ูุญูู ุงูุดุนุฑ ูู ุงูุชูู ุงููุงุชุฌ ุนู ุฃุฏูุงุช ุงูุชุตููู ุงูุญุฑุงุฑูุฉ ุญุชู 230 ุฏุฑุฌุฉ ูุฆููุฉ.',
                    ingredients: ['ุฒูุช ุงูููุฒ ุงูุญูู', 'ุซูุงุฆู ููุซูููู', 'ููุชุงููู B5', 'ุฎูุงุตุฉ ุงูููุญ'],
                    usage: 'ูููุถุน ุนูู ุงูุดุนุฑ ุงูุฑุทุจ ุฃู ุงูุฌุงู ูุจู ุงุณุชุฎุฏุงู ุฃุฏูุงุช ุงูุชุตููู ุงูุญุฑุงุฑูุฉ.'
                },
                {
                    id: 'hair-5',
                    name: 'ููุงุน ุงูุชุบุฐูุฉ ุงูุนูููุฉ',
                    price: '200 ุฌ.ู',
                    description: 'ููุงุน ุนูุงุฌู ููุนูุฏ ุงูุญูููุฉ ููุดุนุฑ ุงูุชุงูู ูุงูุฌุงู ุฌุฏูุง ูุน ุชุบุฐูุฉ ุนูููุฉ ููุจุตููุงุช.',
                    ingredients: ['ุฃูููุงุฏู', 'ุนุณู ุงููุญู', 'ุฒูุช ุงูุฒูุชูู ุงูุจูุฑ', 'ุจุฑูุชููุงุช ุงูุตููุง'],
                    usage: 'ููุณุชุฎุฏู ูุฑุฉ ูุงุญุฏุฉ ุฃุณุจูุนููุง ููุฏุฉ 30 ุฏูููุฉ ูุน ุชุบุทูุฉ ุงูุดุนุฑ ุจููุดูุฉ ุฏุงูุฆุฉ.'
                },
                {
                    id: 'hair-6',
                    name: 'ููุดุท ูุฑูุฉ ุงูุฑุฃุณ',
                    price: '160 ุฌ.ู',
                    description: 'ููุดุท ุทุจู ูุญูุฒ ุงูุฏูุฑุฉ ุงูุฏูููุฉ ูู ูุฑูุฉ ุงูุฑุฃุณ ููููุน ุงููุดุฑุฉ ูุน ุชูุธูู ุฅูุฑุงุฒ ุงูุฏููู.',
                    ingredients: ['ุฒูุช ุดุฌุฑุฉ ุงูุดุงู', 'ูุณุชุฎูุต ุงููุนูุงุน', 'ุงูุฒูู ุจูุฑูุซููู', 'ุญูุถ ุงูุณุงููุณูููู'],
                    usage: 'ููุฑุด ุนูู ูุฑูุฉ ุงูุฑุฃุณ 3 ูุฑุงุช ุฃุณุจูุนูุงู ูููุฏูู ุจูุทู ููุฏุฉ ุฏูููุชูู.'
                },
                {
                    id: 'hair-7',
                    name: 'ุฒูุช ููู ุงูุดุนุฑ',
                    price: '170 ุฌ.ู',
                    description: 'ุฒูุช ุทุจูุนู ูุนุฒุฒ ูููู ุงูุดุนุฑ ุจุชุฑููุจุฉ ูู ุงูุฒููุช ุงููุนุงูุฉ ูุชุบุฐูุฉ ุงูุจุตููุงุช ูุชูุซูู ุงูุดุนุฑ.',
                    ingredients: ['ุฒูุช ุงูุฎุฑูุน', 'ุฒูุช ุงูุฌูุฌูุจุง', 'ุฒูุช ุงููุงููุฏุฑ', 'ุฒูุช ุฅูููู ุงูุฌุจู'],
                    usage: 'ููุฏูู ุนูู ูุฑูุฉ ุงูุฑุฃุณ 3 ูุฑุงุช ุฃุณุจูุนูุงู ูููุชุฑู ุทูุงู ุงูููู.'
                },
                {
                    id: 'hair-8',
                    name: 'ุฑุบูุฉ ุชูุธูู ูุฑูุฉ ุงูุฑุฃุณ',
                    price: '140 ุฌ.ู',
                    description: 'ุฑุบูุฉ ุทุจูุฉ ูุชูุธูู ุนููู ููุฑูุฉ ุงูุฑุฃุณ ูุฅุฒุงูุฉ ุงูุฒููุช ุงูุฒุงุฆุฏุฉ ุฏูู ุชุฌููู ุงูุดุนุฑ.',
                    ingredients: ['ุญูุถ ุงูุณุงููุณูููู 1%', 'ุฎูุงุตุฉ ุงููุนูุงุน', 'ุฃูุงูุชููู', 'ุจููุฑุจููุงุช ุงูุตูุฏููู'],
                    usage: 'ููุณุชุฎุฏู ูุฑุฉ ุฃุณุจูุนูุงู ูุน ุชุฏููู ูุฑูุฉ ุงูุฑุฃุณ ููุฏุฉ ุฏูููุชูู ุซู ูุดุทู ุฌูุฏุงู.'
                },
                {
                    id: 'hair-9',
                    name: 'ุจุฎุงุฎ ุญูุงูุฉ ูู ุฃุดุนุฉ ุงูุดูุณ',
                    price: '190 ุฌ.ู',
                    description: 'ุจุฎุงุฎ ููุงุฆู ููุดุนุฑ ูู ุฃุถุฑุงุฑ ุฃุดุนุฉ ุงูุดูุณ ูุงูุฃูุณุฏุฉ ูุน ุญูุงูุฉ ูู ุงูุฌูุงู ูุงูุชูู.',
                    ingredients: ['ูุณุชุฎูุต ุงูุฃููุฉ ููุฑุง', 'ุจุฑูุชูู ุงูููุญ', 'ููุชุงููู E', 'ูุฑูุจุงุช UV ุงููุนุงูุฉ'],
                    usage: 'ููุฑุด ุนูู ุงูุดุนุฑ ูุจู ุงูุฎุฑูุฌ ูู ุงูุดูุณ ูุจุงุดุฑุฉ ูููุนุงุฏ ูู 4 ุณุงุนุงุช.'
                }
            ]
        },
        'dental-care': {
            title: 'ุชุฑููุจุงุช ุทุจูุฉ ููุนูุงูุฉ ุจุงูุฃุณูุงู',
            formulations: [
                {
                    id: 'dental-1',
                    name: 'ุบุณูู ูู ูุทูุฑ',
                    price: '90 ุฌ.ู',
                    description: 'ุบุณูู ูู ุทุจู ููู ููุถู ุนูู 99% ูู ุงูุจูุชูุฑูุง ุงููุณุจุจุฉ ูุฑุงุฆุญุฉ ุงููู ุงููุฑููุฉ ููุญูู ูู ุงูุชูุงุจ ุงููุซุฉ.',
                    ingredients: ['ูููุฑูููุณูุฏูู 0.12%', 'ูููุฑุงูุฏ ุงูุตูุฏููู', 'ุฒููุช ุนุทุฑูุฉ ุทุจูุนูุฉ', 'ุฒูุช ุงููุฑููู'],
                    usage: 'ููุณุชุฎุฏู 10 ูู ูุฑุชูู ููููุงู ุจุนุฏ ุชูุธูู ุงูุฃุณูุงู ุจุงููุฑุดุงุฉ ููุฏุฉ 30 ุซุงููุฉ.'
                },
                {
                    id: 'dental-2',
                    name: 'ูุนุฌูู ุฃุณูุงู ูุจูุถ',
                    price: '110 ุฌ.ู',
                    description: 'ูุนุฌูู ุฃุณูุงู ุทุจู ูุณุงุนุฏ ุนูู ุฅุฒุงูุฉ ุงูุจูุน ุงูุณุทุญูุฉ ูุงุณุชุนุงุฏุฉ ุงูุจูุงุถ ุงูุทุจูุนู ููุฃุณูุงู.',
                    ingredients: ['ุจูุฑููุณูุฏ ุงููุงุฑุจุงููุฏ 5%', 'ููุฏุฑููุณูุงุจุงุชูุช', 'ุฅูุฒููุงุช ุงูุชุจููุถ', 'ุตูุฏุง ุงูุฎุจุฒ'],
                    usage: 'ููุณุชุฎุฏู ูุฑุฉ ูุงุญุฏุฉ ููููุงู ุจุฏูุงู ูู ุงููุนุฌูู ุงูุนุงุฏู ููุฏุฉ 4 ุฃุณุงุจูุน.'
                },
                {
                    id: 'dental-3',
                    name: 'ุฌูู ูุนุงูุฌุฉ ุญุณุงุณูุฉ ุงูุฃุณูุงู',
                    price: '140 ุฌ.ู',
                    description: 'ุฌูู ุทุจู ูุชุฎุตุต ูููู ูู ุญุณุงุณูุฉ ุงูุฃุณูุงู ุชุฌุงู ุงููุฃูููุงุช ูุงููุดุฑูุจุงุช ุงูุจุงุฑุฏุฉ ูุงูุณุงุฎูุฉ.',
                    ingredients: ['ูุชุฑุงุช ุงูุจูุชุงุณููู 5%', 'ูููุฑุงูุฏ ุงูุตูุฏููู', 'ุฃุฑุบูููู', 'ุซุงูู ุฃูุณูุฏ ุงูุณูููููู'],
                    usage: 'ููุทุจู ูุจุงุดุฑุฉ ุนูู ุงูุฃุณูุงู ุงูุญุณุงุณุฉ ุจูุทูุฉ ูุธููุฉ ูุฑุชูู ููููุงู.'
                },
                {
                    id: 'dental-4',
                    name: 'ูุนุฌูู ุฃุณูุงู ููุฃุทูุงู',
                    price: '80 ุฌ.ู',
                    description: 'ูุนุฌูู ุฃุณูุงู ุทุจู ุขูู ููุฃุทูุงู ุจูููุฉ ุงูููุงูู ูุญูุงูุฉ ุงูุฃุณูุงู ุงููุจููุฉ ูู ุงูุชุณูุณ.',
                    ingredients: ['ูููุฑุงูุฏ 500ppm', 'ุฒูููุชูู', 'ูููุฉ ุงููุฑุงููุฉ ุงูุทุจูุนูุฉ', 'ูุงูุณููู'],
                    usage: 'ููุณุชุฎุฏู ุจุญุฌู ุญุจุฉ ุงูุฃุฑุฒ ูุฑุชูู ููููุงู ุชุญุช ุฅุดุฑุงู ุงููุงูุฏูู.'
                },
                {
                    id: 'dental-5',
                    name: 'ูุญููู ูููุฑุญ ุงูููููุฉ',
                    price: '95 ุฌ.ู',
                    description: 'ูุญููู ุทุจู ููุณุฑูุน ูู ุงูุชุฆุงู ุงููุฑุญ ุงูููููุฉ ููุฎูู ุงูุฃูู ุจุดูู ููุฑู.',
                    ingredients: ['ุญูุถ ุงูููุงููุฑูููู', 'ูุณุชุฎูุต ุงูุจุงุจููุฌ', 'ููุฏููุงุฆูู 2%', 'ุฃูุฌููุงุช ุงูุตูุฏููู'],
                    usage: 'ููุทุจู ุนูู ุงููุฑุญุฉ ุจูุทูุฉ ูุธููุฉ 3-4 ูุฑุงุช ููููุงู ุจุนุฏ ุงููุฌุจุงุช.'
                },
                {
                    id: 'dental-6',
                    name: 'ุบุณูู ูู ุทุจูุนู',
                    price: '100 ุฌ.ู',
                    description: 'ุบุณูู ูู ุทุจู ุฎุงูู ูู ุงููุญูู ูุนุชูุฏ ุนูู ููููุงุช ุทุจูุนูุฉ ูุฑุนุงูุฉ ููููุฉ ูููู.',
                    ingredients: ['ูุณุชุฎูุต ุงููุนูุงุน', 'ุฒูุช ุดุฌุฑุฉ ุงูุดุงู', 'ุตูุบ ุงููุฑุฉ', 'ุนุณู ูุงูููุง'],
                    usage: 'ููุณุชุฎุฏู ุตุจุงุญูุง ููุณุงุกู ููุฏุฉ 30 ุซุงููุฉ ุจุนุฏ ุชูุฑูุด ุงูุฃุณูุงู.'
                },
                {
                    id: 'dental-7',
                    name: 'ูุณูู ุฃูู ุงูุฃุณูุงู ุงูููุฑู',
                    price: '85 ุฌ.ู',
                    description: 'ุฌู ูุณูู ุณุฑูุน ุงูููุนูู ูุฃูู ุงูุฃุณูุงู ูุงููุซุฉ ูุน ุชุฃุซูุฑ ูุถุงุฏ ููุงูุชูุงุจ.',
                    ingredients: ['ุจูุฒููุงุฆูู 20%', 'ูุณุชุฎูุต ุงููุฑููู', 'ุฃูุงูุชููู', 'ุฒูุช ุงููุนูุงุน'],
                    usage: 'ููุทุจู ุนูู ุงูููุทูุฉ ุงููุคููุฉ ุจูููุฉ ุตุบูุฑุฉ ุนูุฏ ุงูุญุงุฌุฉ.'
                },
                {
                    id: 'dental-8',
                    name: 'ูุนุฌูู ุฃุณูุงู ููุซุฉ ุงูุญุณุงุณุฉ',
                    price: '115 ุฌ.ู',
                    description: 'ูุนุฌูู ุฃุณูุงู ุทุจู ูุฎุตุต ููุนูุงูุฉ ุจุงููุซุฉ ุงูุญุณุงุณุฉ ูุงููุชูุฑูุฉ ูุน ุญูุงูุฉ ูู ุงููุฒูู.',
                    ingredients: ['ุจููุฑุจููุงุช ุงูุตูุฏููู', 'ุฃูุงูุชููู', 'ูููุฑูุฏ ุงููุตุฏูุฑ', 'ูุณุชุฎูุต ุงูุจุงุจููุฌ'],
                    usage: 'ููุณุชุฎุฏู ูุฑุชูู ููููุงู ูุน ุชุฏููู ุงููุซุฉ ุจูุทู ุจูุงุณุทุฉ ูุฑุดุงุฉ ูุงุนูุฉ.'
                },
                {
                    id: 'dental-9',
                    name: 'ุบุณูู ุชุจููุถ ุงูุฃุณูุงู ุงูููุฒูู',
                    price: '125 ุฌ.ู',
                    description: 'ุบุณูู ุชุจููุถ ุทุจู ููุงุณุชุฎุฏุงู ุงูููุฒูู ูุนูู ุนูู ุฅุฒุงูุฉ ุงูุจูุน ุงูุนูููุฉ ุจุฃูุงู.',
                    ingredients: ['ุจูุฑููุณูุฏ ุงูููุฏุฑูุฌูู 3%', 'ุฌููุณุฑูู', 'ูุชุฑุงุช ุงูุจูุชุงุณููู', 'ุฒูุช ุงูููููู'],
                    usage: 'ููุณุชุฎุฏู ูุฑุฉ ููููุงู ููุฏุฉ 1 ุฏูููุฉ ููุฏุฉ ุฃุณุจูุนูู ููุท.'
                }
            ]
        },
        'skin-care': {
            title: 'ุชุฑููุจุงุช ุทุจูุฉ ููุนูุงูุฉ ุจุงูุจุดุฑุฉ',
            formulations: [
                {
                    id: 'skin-1',
                    name: 'ูุฑูู ุชุฌุฏูุฏ ุงูุจุดุฑุฉ ุงููููู',
                    price: '220 ุฌ.ู',
                    description: 'ูุฑูู ูููู ุทุจู ูุนูู ุนูู ุชุญููุฒ ุฅูุชุงุฌ ุงููููุงุฌูู ูุชูููู ุงูุชุฌุงุนูุฏ ุงูุฏูููุฉ ุฃุซูุงุก ุงูููู.',
                    ingredients: ['ุฑูุชูููู 0.3%', 'ุญูุถ ุงูููุงููุฑูููู', 'ููุชุงููู C', 'ููุงุณููุงููุฏ'],
                    usage: 'ููุทุจู ุนูู ุจุดุฑุฉ ูุธููุฉ ูุจู ุงูููู. ููุณุชุฎุฏู 3 ูุฑุงุช ุฃุณุจูุนูุงู ูู ุงูุจุฏุงูุฉ.'
                },
                {
                    id: 'skin-2',
                    name: 'ุณูุฑูู ููุชุงููู C',
                    price: '250 ุฌ.ู',
                    description: 'ุณูุฑูู ุทุจู ููู ูุถุงุฏ ููุฃูุณุฏุฉ ูููุญ ุงูุจุดุฑุฉ ุฅุดุฑุงูุฉ ููุญูููุง ูู ุงูุชูู ุงูุจูุฆู.',
                    ingredients: ['ููุชุงููู C 20%', 'ุญูุถ ุงูููุฑูููู', 'ููุชุงููู E', 'ุญูุถ ุงูููุงููุฑูููู'],
                    usage: 'ููุทุจู 3-4 ูุทุฑุงุช ุตุจุงุญุงู ูุจู ุงููุฑุทุจ ูุน ูุถุน ูุงูู ุดูุณ ุจุนุฏู.'
                },
                {
                    id: 'skin-3',
                    name: 'ูุฑูู ูุฑุทุจ ุนููู',
                    price: '180 ุฌ.ู',
                    description: 'ูุฑูู ุทุจู ูุฑุทุจ ููุจุดุฑุฉ ุงูุฌุงูุฉ ุฌุฏูุง ูุงููุชุดููุฉ ุจูุถู ุชุฑููุจุชู ุงูุบููุฉ ุจุงูุฏููู.',
                    ingredients: ['ุฒุจุฏุฉ ุงูุดูุง', 'ุณูุฑุงููุฏ 3%', 'ููุชุงููู B3', 'ุฃุญูุงุถ ุฃูููุฌุง 6'],
                    usage: 'ููุณุชุฎุฏู ููููุงู ุนูู ุงูุฌุณู ูุงููุฌู ุจุนุฏ ุงูุงุณุชุญูุงู ุจูููุง ุงูุจุดุฑุฉ ุฑุทุจุฉ.'
                },
                {
                    id: 'skin-4',
                    name: 'ูุงูู ุดูุณ ูุงุณุน ุงูุทูู',
                    price: '160 ุฌ.ู',
                    description: 'ูุงูู ุดูุณ ุทุจู ูููุฑ ุญูุงูุฉ ูุตูู ูู ุฃุดุนุฉ UVA ู UVB ูุน ููุงููุฉ ูููุงุก.',
                    ingredients: ['ุฃููุณูุฏ ุงูุฒูู', 'ุซุงูู ุฃูุณูุฏ ุงูุชูุชุงูููู', 'ูุถุงุฏุงุช ุฃูุณุฏุฉ', 'ููุงููุฑููุงุช ุงูุตูุฏููู'],
                    usage: 'ููุทุจู ูุจู ุงูุชุนุฑุถ ููุดูุณ ุจู 20 ุฏูููุฉ ูุจูููุฉ ูุงููุฉ (ููุนูุฉ ุตุบูุฑุฉ ูููุฌู).'
                },
                {
                    id: 'skin-5',
                    name: 'ููุดุฑ ูุทูู ููุจุดุฑุฉ ุงูุญุณุงุณุฉ',
                    price: '140 ุฌ.ู',
                    description: 'ููุดุฑ ุทุจู ูุทูู ููุฒูู ุงูุฎูุงูุง ุงูููุชุฉ ุจูุทู ุฏูู ุชูููุฌ ุงูุจุดุฑุฉ ุงูุญุณุงุณุฉ.',
                    ingredients: ['ุญูุถ ุงููุงูุชูู 5%', 'ูุณุชุฎูุต ุงูุดููุงู', 'ุฃูุงูุชููู', 'ุจุงูุซูููู'],
                    usage: 'ููุณุชุฎุฏู ูุฑุฉ ูุงุญุฏุฉ ุฃุณุจูุนูุงู ุนูู ุจุดุฑุฉ ูุธููุฉ ูุน ุชุฌูุจ ููุทูุฉ ุญูู ุงูุนูู.'
                },
                {
                    id: 'skin-6',
                    name: 'ุฌู ูุนุงูุฌุฉ ุญุจ ุงูุดุจุงุจ',
                    price: '130 ุฌ.ู',
                    description: 'ุฌู ุทุจู ููููู ูู ุธููุฑ ุญุจ ุงูุดุจุงุจ ูููุธู ุงููุณุงู ุจุนูู ูููุธู ุฅูุฑุงุฒ ุงูุฏููู.',
                    ingredients: ['ุญูุถ ุงูุณุงููุณูููู 2%', 'ุฒูุช ุดุฌุฑุฉ ุงูุดุงู', 'ููุงุณููุงููุฏ 4%', 'ุฎูุงุตุฉ ุนุฑู ุงูุณูุณ'],
                    usage: 'ููุทุจู ุนูู ุงูุญุจูุจ ูุจุงุดุฑุฉ ูุณุงุกู ุจุนุฏ ุงูุชูุธูู. ููุณุชุฎุฏู ููููุงู.'
                },
                {
                    id: 'skin-7',
                    name: 'ูุตู ุงููุถุงุฑุฉ ุงูููุฑู',
                    price: '270 ุฌ.ู',
                    description: 'ูุตู ุทุจู ูุนุทู ุฅุดุฑุงูุฉ ููุฑูุฉ ููุจุดุฑุฉ ูุน ุชุฑุทูุจ ุนููู ูุชูุญูุฏ ููู ุงูุจุดุฑุฉ.',
                    ingredients: ['ููุงุณููุงููุฏ 10%', 'ุญูุถ ุงูููุงููุฑูููู', 'ุนุฑู ุงูุณูุณ', 'ููุชุงููู E'],
                    usage: 'ููุทุจู ุตุจุงุญุงู ููุณุงุกู ุจุนุฏ ุงูุชูุธูู ููุจู ุงููุฑุทุจ.'
                },
                {
                    id: 'skin-8',
                    name: 'ูุฑูู ุงูุนููู ุงููุถุงุฏ ููุชุฌุงุนูุฏ',
                    price: '230 ุฌ.ู',
                    description: 'ูุฑูู ุนููู ุทุจู ูููู ูู ุงููุงูุงุช ุงูุณูุฏุงุก ูุงูุชุฌุงุนูุฏ ุงูุฏูููุฉ ุญูู ุงูุนูู.',
                    ingredients: ['ูุงูููู 5%', 'ุจุจุชูุฏุงุช', 'ุญูุถ ุงูููุงููุฑูููู', 'ููุชุงููู K'],
                    usage: 'ููุทุจู ุจูุทู ุญูู ุงูุนูู ุตุจุงุญุงู ููุณุงุกู ุจุงุณุชุฎุฏุงู ุงูุจูุตุฑ.'
                },
                {
                    id: 'skin-9',
                    name: 'ููุงุน ุทูู ุชูููุฉ ุงููุณุงู',
                    price: '150 ุฌ.ู',
                    description: 'ููุงุน ุทุจู ูู ุงูุทูู ุงูุทุจูุนู ูุงูุชุตุงุต ุงูุฒููุช ุงูุฒุงุฆุฏุฉ ูุชูููุฉ ุงููุณุงู ุจุนูู.',
                    ingredients: ['ุทูู ุงูุบุงุณูู', 'ูุญู ูุดุท', 'ุฒูุช ุงููุนูุงุน', 'ุญูุถ ุงูุฌููููููู'],
                    usage: 'ููุณุชุฎุฏู ูุฑุฉ ุฃุณุจูุนูุงู ููุฏุฉ 10 ุฏูุงุฆู ุซู ูุดุทู ุจุงููุงุก ุงููุงุชุฑ.'
                }
            ]
        }
    };

    // ุชููุฆุฉ ูููุงุช ุงูููุชุฌุงุช ุนูุฏ ุชุบููุฑ ุงููุฆุฉ
    useEffect(() => {
        if (currentCategory && recipesData[currentCategory]) {
            const initialQuantities = {};
            recipesData[currentCategory].formulations.forEach(product => {
                initialQuantities[product.id] = 1;
            });
            setProductQuantities(initialQuantities);
        }
    }, [currentCategory]);

    // ุชุญุฏูุซ ุนุฏุงุฏ ุงูุณูุฉ
    const updateCart = () => {
        const totalItems = Object.values(cartItems).reduce((sum, item) => sum + item.quantity, 0);
        return totalItems;
    };

    // ุชุญุฏูุซ ูููุฉ ููุชุฌ ูุนูู
    const updateQuantity = (productId, change) => {
        setProductQuantities(prev => ({
            ...prev,
            [productId]: Math.max(1, Math.min(10, (prev[productId] || 1) + change))
        }));
    };

    // ุนุฑุถ ุฑุณุงูุฉ ุงูุชุฃููุฏ
    const handleShowConfirmation = (productName, productId) => {
        const quantity = productQuantities[productId] || 1;
        const newCartItems = { ...cartItems };

        if (!newCartItems[productId]) {
            newCartItems[productId] = {
                name: productName,
                quantity: quantity,
                price: getProductPrice(productId)
            };
        } else {
            newCartItems[productId].quantity += quantity;
        }

        setCartItems(newCartItems);
        setOrderedProducts({ ...orderedProducts, [productId]: true });

        setConfirmationMessage(`ุชู ุทูุจ ${quantity} ูู "${productName}" ุจูุฌุงุญ! ุณูุชู ุชูุตูููุง ุฅููู ุฎูุงู 2-3 ุฃูุงู ุนูู.`);
        setShowConfirmation(true);

        setTimeout(() => {
            setShowConfirmation(false);
        }, 5000);
    };

    // ุงูุญุตูู ุนูู ุณุนุฑ ุงูููุชุฌ
    const getProductPrice = (productId) => {
        for (const category in recipesData) {
            const product = recipesData[category].formulations.find(p => p.id === productId);
            if (product) {
                return parseInt(product.price.split(' ')[0]);
            }
        }
        return 0;
    };

    // ุฅูุบุงุก ุงูุทูุจ
    const handleCancelOrder = (productId) => {
        const newCartItems = { ...cartItems };
        const newOrderedProducts = { ...orderedProducts };

        delete newCartItems[productId];
        delete newOrderedProducts[productId];

        setCartItems(newCartItems);
        setOrderedProducts(newOrderedProducts);
    };

    // ุนุฑุถ ุงููุฆุฉ ุงููุญุฏุฏุฉ
    const handleShowCategory = (categoryId) => {
        setCurrentCategory(categoryId);
    };

    // ุชุญุฏูุซ ุนุฑุถ ุงูุณูุฉ
    const renderCartItems = () => {
        if (Object.keys(cartItems).length === 0) {
            return <p style={{ textAlign: 'center', color: '#6c757d' }}>ุณูุฉ ุงูุชุณูู ูุงุฑุบุฉ</p>;
        }

        let total = 0;
        return (
            <>
                {Object.entries(cartItems).map(([id, item]) => {
                    const itemTotal = item.quantity * item.price;
                    total += itemTotal;

                    return (
                        <div key={id} className={styles.cartItem}>
                            <div className={styles.cartItemInfo}>
                                <div className={styles.cartItemName}>{item.name}</div>
                                <div className={styles.cartItemPrice}>{item.price} ุฌ.ู</div>
                            </div>
                            <div className={styles.cartItemQuantity}>
                                <span>{item.quantity}</span>
                            </div>
                            <div className={styles.cartItemTotal}>{itemTotal} ุฌ.ู</div>
                        </div>
                    );
                })}
                <div className={styles.cartTotal}>
                    ุงูุฅุฌูุงูู: {total} ุฌ.ู
                </div>
            </>
        );
    };

    return (
        <div dir="rtl" className={styles.container}>
            {/* ุณูุฉ ุงูุชุณูู */}
            <div className={styles.cartIcon} onClick={() => setShowCart(true)}>
                ๐
                <span className={styles.cartCount}>{updateCart()}</span>
            </div>

            <div className={styles.container}>
                <header className={styles.pageHeader}>
                    <h1>ุงูุชุฑููุจุงุช ุงูุทุจูุฉ</h1>
                    <p>ุงูุชุดู ุชุฑููุจุงุช ุงูุตูุฏููุฉ ุงููุตููุฉ ุฎุตูุตูุง ูุชูุจูุฉ ุงุญุชูุงุฌุงุชู ุงูุทุจูุฉ ูุงูุฌูุงููุฉ</p>

                    {/* ุฃุฒุฑุงุฑ ุงููุฆุงุช */}
                    <div className={styles.categoriesContainer}>
                        <div className={styles.categoriesSidebar}>
                            <button
                                onClick={() => handleShowCategory('hair-care')}
                                className={`${styles.categoryBtn} ${currentCategory === 'hair-care' ? styles.active : ''}`}
                            >
                                ุชุฑููุจุงุช ุงูุดุนุฑ
                            </button>
                            <button
                                onClick={() => handleShowCategory('dental-care')}
                                className={`${styles.categoryBtn} ${currentCategory === 'dental-care' ? styles.active : ''}`}
                            >
                                ุชุฑููุจุงุช ุงูุฃุณูุงู
                            </button>
                            <button
                                onClick={() => handleShowCategory('skin-care')}
                                className={`${styles.categoryBtn} ${currentCategory === 'skin-care' ? styles.active : ''}`}
                            >
                                ุชุฑููุจุงุช ุงูุจุดุฑุฉ
                            </button>
                        </div>
                    </div>
                </header>

                {/* ููุทูุฉ ุนุฑุถ ุงููุญุชูู */}
                <main className={styles.productsArea} id="content-area">
                    {!currentCategory ? (
                        <>
                            <h2>ุฃููุงู ุจู ูู ูุณู ุงูุชุฑููุจุงุช!</h2>
                            <p className={styles.placeholder}>ุงุฎุชุฑ ูุฆุฉ ูู ุงููุงุฆูุฉ ูุนุฑุถ ุงูุชุฑููุจุงุช ุงููุชุงุญุฉ</p>
                        </>
                    ) : (
                        <>
                            <h2>{recipesData[currentCategory]?.title}</h2>
                            <div className={styles.productsGrid}>
                                {recipesData[currentCategory]?.formulations.map(formulation => {
                                    const isOrdered = orderedProducts[formulation.id];
                                    const quantity = productQuantities[formulation.id] || 1;

                                    return (
                                        <div key={formulation.id} className={`${styles.productCard} ${isOrdered ? styles.ordered : ''}`}>
                                            {isOrdered && <span className={styles.orderedBadge}>ุชู ุงูุทูุจ</span>}
                                            <h3>{formulation.name}</h3>
                                            <div className={styles.productPrice}>{formulation.price}</div>
                                            <p className={styles.description}>{formulation.description}</p>

                                            <div className={styles.ingredientsSection}>
                                                <h4>ุงูููููุงุช ุงูุฑุฆูุณูุฉ</h4>
                                                <ul className={styles.ingredientsList}>
                                                    {formulation.ingredients.map((ing, index) => (
                                                        <li key={index}>{ing}</li>
                                                    ))}
                                                </ul>
                                            </div>

                                            <div className={styles.usageSection}>
                                                <h4>ุทุฑููุฉ ุงูุงุณุชุฎุฏุงู</h4>
                                                <p className={styles.usageText}>{formulation.usage}</p>
                                            </div>

                                            <div className={styles.productActions}>
                                                {!isOrdered ? (
                                                    <>
                                                        <div className={styles.quantityControls}>
                                                            <button
                                                                className={styles.quantityBtn}
                                                                onClick={() => updateQuantity(formulation.id, -1)}
                                                            >
                                                                -
                                                            </button>
                                                            <input
                                                                type="number"
                                                                className={styles.quantityInput}
                                                                value={quantity}
                                                                min="1"
                                                                max="10"
                                                                onChange={(e) => {
                                                                    const newValue = Math.max(1, Math.min(10, parseInt(e.target.value) || 1));
                                                                    setProductQuantities(prev => ({
                                                                        ...prev,
                                                                        [formulation.id]: newValue
                                                                    }));
                                                                }}
                                                            />
                                                            <button
                                                                className={styles.quantityBtn}
                                                                onClick={() => updateQuantity(formulation.id, 1)}
                                                            >
                                                                +
                                                            </button>
                                                        </div>
                                                        <button
                                                            className={styles.buyBtn}
                                                            onClick={() => handleShowConfirmation(formulation.name, formulation.id)}
                                                        >
                                                            ุดุฑุงุก ุงูุชุฑููุจุฉ
                                                        </button>
                                                    </>
                                                ) : (
                                                    <button
                                                        className={styles.cancelBtn}
                                                        onClick={() => handleCancelOrder(formulation.id)}
                                                    >
                                                        ุฅูุบุงุก ุงูุทูุจ
                                                    </button>
                                                )}
                                            </div>
                                        </div>
                                    );
                                })}
                            </div>
                        </>
                    )}
                </main>
            </div>



        </div>
    );
}